# 和算（Wazan）プログラミング言語

古文調の日本語で書けるインタープリタ型プログラミング言語です。

## 特徴

- 古文調の日本語構文
- インタープリタ型実行
- 変数、関数、演算、条件分岐、ループをサポート
- C言語で実装された高速な実行環境
- 字句解析器、構文解析器、インタープリタの3層アーキテクチャ

## ビルド方法

```bash
cd wazan
make
```

## 実行方法

### ファイルから実行
```bash
cd wazan
./wazan_interp ../sample.wz
```

### テスト実行
```bash
cd wazan
make test
```

### 対話モード
```bash
cd wazan
./wazan_interp
```

## 言語仕様

### 変数宣言と演算
```
数 x は 二 と 三 の和 と定む。
数 y は 九 と 三 の差 と定む。
```

### 出力
```
申す x
申す「こんにちは」
```

### 関数定義
```
術「二倍」(数 n、数 m) は n と m の 和 と定む。
```

### 条件分岐
```
もし x 二より大なれば 申す「大なり」 さらずば 申す「小なり」
```

### ループ
```
いざ i を 一とし、五未満なる間、ひとつずつ加え行かん。
```

## プロジェクト構造

```
.
├── include/          # ヘッダーファイル
│   ├── lexer.h      # 字句解析器
│   ├── parser.h     # 構文解析器
│   └── interpreter.h # インタープリタ
├── src/             # ソースファイル
│   ├── lexer.c      # 字句解析実装
│   ├── parser.c     # 構文解析実装
│   ├── interpreter.c # インタープリタ実装
│   └── main.c       # メインプログラム
├── Makefile         # ビルド設定
└── sample.wz        # サンプルコード
```

## アーキテクチャ

1. **字句解析器（Lexer）**: ソースコードをトークンに分割
2. **構文解析器（Parser）**: トークンからAST（抽象構文木）を生成
3. **インタープリタ（Interpreter）**: ASTを実行

